@page
@model Devblog.Pages.LoginModel
@{
    ViewData["Title"] = "Login";
}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />

<body>
    <div class="message-container">
        @Model.Message
    </div>
    <div class="h-100 d-flex align-items-center justify-content-center">
        <div class="login-container">
            <form method="post" class="login-form p-4 shadow-lg">
                <h2 class="text-center mb-4">Login</h2>
                <div class="form-group mb-3">
                    <label asp-for="UserName" class="form-label"></label>
                    <input asp-for="UserName" class="form-control" placeholder="Username" autofocus />
                </div>
                <div class="form-group mb-4">
                    <label asp-for="Password" class="form-label"></label>
                    <input asp-for="Password" class="form-control" placeholder="Password" type="password" />
                </div>
                <div class="form-group text-center">
                    <button class="btn btn-primary btn-md w-100 mb-2">Log in</button>
                    <button type="button" class="btn btn-link" data-bs-toggle="modal" data-bs-target="#AccountModal">Create Account</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal fade" id="AccountModal" tabindex="-1" aria-labelledby="AccountModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="AccountModalLabel">Create User Account</h5>
                    <button class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form method="post" asp-page-handler="CreateAccount">
                <div class="modal-body">
                        <div class="mb-3">
                            <label>First Name:</label>
                            <input type="text" asp-for="FirstName" class="form-control" autocomplete="off" />
                            <span asp-validation-for="FirstName" class="text-danger"></span>
                        </div>
                        <div class="mb-3">
                            <label>Last Name:</label>
                            <input type="text" asp-for="LastName" class="form-control" autocomplete="off" />
                            <span asp-validation-for="LastName" class="text-danger"></span>
                        </div>
                        <div class="mb-3">
                            <label>UserName:</label>
                            <input type="text" asp-for="ChosenUserName" class="form-control" autocomplete="off" />
                            <span asp-validation-for="ChosenUserName" class="text-danger"></span>
                        </div>
                        <div class="mb-3">
                            <label>Age:</label>
                            <input type="number" asp-for="Age" class="form-control" autocomplete="off" />
                            <span asp-validation-for="Age" class="text-danger"></span>
                        </div>
                        <div class="mb-3">
                            <label>Mail:</label>
                            <input type="email" asp-for="Mail" class="form-control" autocomplete="off" />
                            <span asp-validation-for="Mail" class="text-danger"></span>
                        </div>
                        <div class="mb-3">
                            <label>City:</label>
                            <input type="text" asp-for="City" class="form-control" autocomplete="off" />
                            <span asp-validation-for="City" class="text-danger"></span>
                        </div>
                        <div class="mb-3">
                            <label>Phone Number:</label>
                            <input type="text" asp-for="PhoneNumber" id="phone" name="PhoneNumber" class="form-control" autocomplete="off" />
                            <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                        </div>
                        <div class="mb-3">
                            <label>Password:</label>
                            <input type="password" asp-for="ChosenPassword" class="form-control" autocomplete="off" />
                            <span asp-validation-for="ChosenPassword" class="text-danger"></span>
                        </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
                </form>
            </div>
        </div>
    </div>
</body>

<style>
    body {
        background: var(--bs-body-bg);
        font-family: 'Arial', sans-serif;
    }

    .message-container {
        text-align: center;
        margin-top: 20px;
        color: #ff0000;
    }

    [data-bs-theme="light"]  .login-container {
        background: white;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 20px;
        max-width: 400px;
        width: 100%;
        margin-top: 200px;
        margin-bottom: 300px;
    }

    [data-bs-theme="dark"]  .login-container {
        background: #40464C;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 20px;
        max-width: 400px;
        width: 100%;
    }

    [data-bs-theme="light"]  .login-form {
        background: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    [data-bs-theme="dark"]  .login-form {
        background: #40464C;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    [data-bs-theme="light"] .login-form h2 {
        font-weight: bold;
        color: #333;
    }

    [data-bs-theme="dark"] .login-form h2 {
        font-weight: bold;
        color: white;
    }

    .form-label {
        display: none;
    }

    .form-control {
        border: 1px solid #ced4da;
        border-radius: 4px;
        padding: 10px;
        font-size: 16px;
    }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
        transition: background-color 0.3s, border-color 0.3s;
    }

    .btn-primary:hover {
        background-color: #0056b3;
        border-color: #0056b3;
    }

    .btn-link {
        color: #007bff;
        text-decoration: none;
        padding: 0;
    }

    .btn-link:hover {
        color: #0056b3;
    }

    .modal-content {
        border-radius: 8px;
    }

    [data-bs-theme="light"] .modal-header {
        background-color: #f1f1f1;
        border-bottom: none;
        padding: 15px 20px;
    }

    [data-bs-theme="dark"] .modal-header {
        background-color: #555555;
        border-bottom: none;
        padding: 15px 20px;
    }

    [data-bs-theme="light"] .modal-title {
        color: #333;
    }

    [data-bs-theme="dark"] .modal-title {
        color: white;
    }

    [data-bs-theme="light"] .modal-body {
        padding: 20px;
        background: white;
    }

    [data-bs-theme="dark"] .modal-body {
        padding: 20px;
        background: #40464C;
    }

    .modal-footer {
        border-top: none;
    }

    .mb-3 label {
        font-weight: bold;
        display: block;
        margin-bottom: 5px;
    }

    .mb-3 input {
        width: 100%;
    }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.3/dist/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation-unobtrusive@3.2.11/dist/jquery.validate.unobtrusive.min.js"></script>
<script>
    const phoneInputField = document.querySelector("#phone");
    const phoneInput = window.intlTelInput(phoneInputField, {
        utilsScript:
            "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
    });
</script>